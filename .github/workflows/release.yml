name: Release

on:
  # Allows you to run this workflow manually from the Actions tab
  workflow_dispatch:

env:
  NPM_TOKEN: ${{ secrets.NPM_TOKEN }}
  REACT_APP_BRIDGE: ${{ secrets.REACT_APP_BRIDGE }}
  REACT_APP_STORAGE: ${{ secrets.REACT_APP_STORAGE }}
  REACT_APP_MORALIS_PROXY_URL: ${{ secrets.REACT_APP_MORALIS_PROXY_URL }}
  REACT_APP_CRYPTO_TRADING_WIDGET_URL: ${{ secrets.REACT_APP_CRYPTO_TRADING_WIDGET_URL }}
  
jobs:
  release:
      runs-on: ubuntu-22.04
      steps:
        - uses: actions/checkout@v2
        - name: Set up Node.js version
          uses: actions/setup-node@v1
          with:
            node-version: '18.16.0'

        - name: Initialize Git user
          run: |
            git config --global user.name "Maxym Rybak"
            git config --global user.email "maxymrybak@gmail.com"
        - name: check env
          run: |
            npm ci
            npm run release
